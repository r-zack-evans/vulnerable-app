import{_,B as y,A as P,a as v,c as p,w as t,u as B,r as n,o as c,b as o,d as V,e as b,f as a,g as u,v as d,h as x}from"./main-BpFvOhNr.js";import{F as A}from"./FormGroup-UUtRVAqT.js";const k={name:"RegisterView",components:{BaseLayout:v,AlertMessage:P,FormGroup:A,Button:y},setup(){return{authStore:B()}},data(){return{username:"",email:"",password:"",confirmPassword:"",error:null,loading:!1}},methods:{async register(){try{if(this.error=null,this.loading=!0,this.password!==this.confirmPassword){this.error="Passwords do not match",this.loading=!1;return}await this.authStore.register({username:this.username,email:this.email,password:this.password})?this.$router.push("/login?message=Registration successful. Please log in."):this.error=this.authStore.error}catch(i){console.error("Registration error:",i),this.error="An error occurred during registration. Please try again."}finally{this.loading=!1}}}},S={class:"auth-form"},C={class:"form-group"},M={class:"auth-links"};function R(i,e,U,q,s,m){const f=n("AlertMessage"),l=n("FormGroup"),g=n("Button"),w=n("router-link"),h=n("BaseLayout");return c(),p(h,null,{default:t(()=>[o("section",S,[e[6]||(e[6]=o("h1",null,"Create Account",-1)),s.error?(c(),p(f,{key:0,type:"danger",message:s.error},null,8,["message"])):V("",!0),o("form",{onSubmit:e[4]||(e[4]=b((...r)=>m.register&&m.register(...r),["prevent"]))},[a(l,{label:"Username",id:"username"},{default:t(()=>[u(o("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=r=>s.username=r),required:"",autocomplete:"username"},null,512),[[d,s.username]])]),_:1}),a(l,{label:"Email",id:"email"},{default:t(()=>[u(o("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>s.email=r),required:"",autocomplete:"email"},null,512),[[d,s.email]])]),_:1}),a(l,{label:"Password",id:"password"},{default:t(()=>[u(o("input",{type:"password",id:"password","onUpdate:modelValue":e[2]||(e[2]=r=>s.password=r),required:"",autocomplete:"new-password"},null,512),[[d,s.password]])]),_:1}),a(l,{label:"Confirm Password",id:"confirmPassword"},{default:t(()=>[u(o("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=r=>s.confirmPassword=r),required:"",autocomplete:"new-password"},null,512),[[d,s.confirmPassword]])]),_:1}),o("div",C,[a(g,{type:"submit",variant:"primary",loading:s.loading,text:"Register"},null,8,["loading"])])],32),o("div",M,[a(w,{to:"/login"},{default:t(()=>e[5]||(e[5]=[x("Already have an account? Login")])),_:1})])])]),_:1})}const N=_(k,[["render",R],["__scopeId","data-v-313194eb"]]);export{N as default};
